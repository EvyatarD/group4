<html>

<head>
    <title>"Images | Favorites"</title>
</head>

<body>
    <form action="#" onsubmit="return addItem(event);">

        URL:<input type="url" name="url" id="url" required><br>
        Image URL:<input type="url" name="urlForImg" id="urlForImg" required><br>
        <button type="submit">ADD</button>

    </form>

    <div id="page">

        <!-- all the items -->

    </div>

    <br>
    <hr>
    <div id="btnPageNum">PAGE: <br>
        <button id="btn1" value="0" onclick="showPage(event)">1</button>
    </div>

    <script>
        var pages = [];
        var item = { "url": null, "img": null };
        var pageNumber = 0;
        pages.push(new Array());
        var countImg = 0;
        var page = document.getElementById("page");

        function addItem(e) {
            if (pageNumber != pages.length - 1) {  //valid for adding image just in last page
                alert("Please add only to the last page");
            }
            else {
                item.url = document.getElementById("url").value;
                item.img = document.getElementById("urlForImg").value;

                if (countImg <= 11) {
                    pages[pageNumber].push(item);
                    countImg++;
                }
                else {
                    pageNumber++;  //next page
                    countImg = 0;  //count of img 0 again 
                    page.innerHTML = "";    //clean page to "new page"
                    pages.push(new Array());  //new array of img   
                    pages[pageNumber].push(item);
                    countImg++;
                    createBtn();
                }

                createImgAndA();

            }
            e.preventDefault(); //no submit
        }

        function createBtn() {
            var btnPage = document.createElement("button");
            btnPage.value = pageNumber;
            btnPage.innerText = pageNumber + 1;
            btnPage.addEventListener('click', showPage, event);
            document.getElementById("btnPageNum").appendChild(btnPage);
        }

        function showPage(event) {
            page.innerHTML = "";
            var value = event.target.value;
            pageNumber = value;
            countImg = pages[value].length;

            for (var k = 0; k < pages[value].length; k++) {
                createImgAndA();
            }
        }

        function createImgAndA() {
            var a = document.createElement("a");
            a.href = item.url;
            var imgSrc = document.createElement("img");
            imgSrc.src = item.img;
            imgSrc.style.width = 300;
            imgSrc.style.height = 200;
            a.appendChild(imgSrc);
            page.appendChild(a);
        }


    </script>

</body>

</html>
