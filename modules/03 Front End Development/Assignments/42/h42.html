<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <form id="formId">

        <label for="title"> Title: </label>
        <input type="text" id="title" name="title"><br>
        <label for="uploader"> uploader : </label>
        <select id="uploader">
            <option value="stiv">Stiv</option>
            <option value="adam">Adam</option>
            <option value="brus">Brus</option>
        </select>
        <br>
        <label for="seconds"> seconds : </label>
        <input type="number" id="seconds">
        <br>
        <input type="button" onclick="submitW()" value="Submit" />
        <input type="button" onclick="addM()" value="+" />
    </form>
    <div id="answer"></div>

    <div id="addmovie" hidden>

        <form id="addForm">
            <label for="title2"> Title: </label>
            <input type="text" id="title2" name="title2"><br>
            <label for="uploader2"> uploader : </label>
            <input type="text" id="uploader2" name="uploader2"><br>
            <br>
            <label for="seconds2"> seconds : </label>
            <input type="number" id="seconds2">
            <input type="button" onclick="addMovie()" value="add movie" />
        </form>
    </div>


    <script>
        var data = []
        for (var i = 0; i < 5; i++) {
            var v = new Video("video " + i, "The neerd youtuber", 60 + Math.floor(Math.random() * (60)));
            data.push(v);
        }


        function Video(title, uploader, seconds) {
            this.title = title;
            this.uploader = uploader;
            this.seconds = seconds;

            this.watch = function (sec) {
                try {
                    document.getElementById("answer").innerText = `You watched all ${seconds} seconds of  ${title}!`;
                } catch (error) {
                    console.log("Oops... An error occured");
                }
            }
        }

        


        function submitW() {
            var title = document.getElementById("title").value;
            var seconds = document.getElementById("seconds").value;
            var uploader = document.getElementById("uploader").value;
            var v = new Video(title,uploader,seconds);
            data.push(v);
            data[data.length-1].watch(seconds);
           
            document.getElementById("formId").reset();
        }

        function addM() {
            document.getElementById("addmovie").hidden = false;
        }

        function addMovie() {
            var title2 = document.getElementById("title2").value;
            var seconds2 = document.getElementById("seconds2").value;
            var uploader2 = document.getElementById("uploader2").value;
            var v = new Video(title2, uploader2, seconds2);
            data.push(v);
            document.getElementById("addForm").reset();
        }


    </script>
</body>

</html>
